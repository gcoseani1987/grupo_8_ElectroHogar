<%- include('../partials/head.ejs')%>
<link rel="stylesheet" href="/css/stylesPassword.css">
<title>Editar contraseña</title>
<link rel="shortcut icon" href="/images/logo-mini-title.svg" style="color: rgb(10,74,173);">
</head>
<body>

    <%- include('../partials/header.ejs')%>
 
    <main class="create-registro"> 
        <h2 class="titulo">MODIFICAR CONTRASEÑA</h2> 
        <section class="create-form">
            <form action='/users/modificarpassword/<%= usuarioEncontrado.id %>' method="POST" class="create"> 
                <div class="create-container">
                    <label for="passwordAEditar" class="label">Contraseña actual</label>
                    <br>
                    <input type="password" for="password" class="input-create mostrarEsconderPassword 
                    <%= locals.errors && errors.passwordAEditar ? 'is-invalid' : null%>" name="passwordAEditar">
                    <br>
                    <p class="mostrarPassword"><i class="far fa-eye"></i></p>
                    <p class="esconderPassword"><i class="far fa-eye-slash"></i></p>
                    <%if (locals.errors && errors.passwordAEditar){%>    
                        <div class="advertencia">
                            <%=errors.passwordAEditar.msg%>
                        </div>
                    <%}%>    
                    <label for="passwordEditado" class="label">Contraseña nueva</label>
                    <br> 
                    <input type="password" class="input-create mostrarEsconderPassword 
                    <%= locals.errors && errors.passwordEditado ? 'is-invalid' : null%>" name="passwordEditado">
                    <br>
                    <p class="mostrarPassword"><i class="far fa-eye"></i></p>
                    <p class="esconderPassword"><i class="far fa-eye-slash"></i></p>
                    <%if (locals.errors && errors.passwordEditado){%>    
                        <div class="advertencia">
                            <%=errors.passwordEditado.msg%>
                        </div>
                    <%}%>    
                    <label for="passwordEditado2" class="label">Repita la contraseña nueva</label>
                    <br>
                    <input type="password" class="input-create mostrarEsconderPassword 
                    <%= locals.errors && errors.passwordEditado2 ? 'is-invalid' : null%>" name="passwordEditado2" >
                    <p class="mostrarPassword"><i class="far fa-eye"></i></p>
                    <p class="esconderPassword"><i class="far fa-eye-slash"></i></p>
                    <%if (locals.errors && errors.passwordEditado2){%>    
                        <div class="advertencia">
                            <%=errors.passwordEditado2.msg%>
                        </div>
                    <%}%>    
                <div class="button-container">
                    <button class="create-button" type="submit">Guardar cambios</button>
                    <button class="create-button" type="reset"><a href="/users/<%=usuarioEncontrado.id%>/editar">Cancelar</a></button>
                </div>
            </form>
        </section> 
        <br>
        <br>
    </main>
    <script src="/js/mostrarContraseña.js"></script>

    <%- include('../partials/footer.ejs')%>

</body>